<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="pvz.css" />
    <title>PVZ Parallax animation</title>
  </head>
  <body>
    <!-- tämä divi pitää tilan jonka päälle pistetään fiksatut divit-->
    <div class="garden">
      <div class="garden_layer img1" data-type="parallax" data-speed="10"></div>
      <div class="garden_layer img2" data-type="parallax" data-speed="30"></div>
      <div class="garden_layer img4" data-type="parallax" data-speed="90"></div>
      <div class="garden_layer img5" data-type="parallax" data-speed="50"></div>
    </div>

    <main>
      <h1>Plants vs Zombies</h1>
      <p>
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Nostrum
        quisquam praesentium soluta iure animi iusto aut illo ducimus sit natus
        cupiditate quod nulla, illum blanditiis libero, in quae enim distinctio.
        Dolor delectus quia facere dicta. Debitis, est temporibus corrupti saepe
        ducimus nihil illo, ipsum non ut voluptates quod adipisci eligendi?
      </p>
    </main>

    <div class="underground">
      <div
        class="underground_layer und2"
        data-type="parallax"
        data-speed="10"
      ></div>
    </div>

    <script>
      window.addEventListener("scroll", function (event) {
        var top = this.pageYOffset;
        console.log(top);

        var layers = document.querySelectorAll("[data-type='parallax']");
        console.log(layers);

        var layer, speed, yPos;

        for (var i = 0; i < layers.length; i++) {
          layer = layers[i];
          speed = layer.getAttribute("data-speed");
          var yPos = -((top * speed) / 100);
          layer.setAttribute(
            "style",
            "transform: translate3d(0px, " + yPos + "px, 0px)"
          );
        }
      });
    </script>
  </body>
</html>
